<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Explanation · COPIERTemplate.jl</title><meta name="title" content="Explanation · COPIERTemplate.jl"/><meta property="og:title" content="Explanation · COPIERTemplate.jl"/><meta property="twitter:title" content="Explanation · COPIERTemplate.jl"/><meta name="description" content="Documentation for COPIERTemplate.jl."/><meta property="og:description" content="Documentation for COPIERTemplate.jl."/><meta property="twitter:description" content="Documentation for COPIERTemplate.jl."/><meta property="og:url" content="https://abelsiqueira.github.io/COPIERTemplate.jl/20-explanation/"/><meta property="twitter:url" content="https://abelsiqueira.github.io/COPIERTemplate.jl/20-explanation/"/><link rel="canonical" href="https://abelsiqueira.github.io/COPIERTemplate.jl/20-explanation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="COPIERTemplate.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">COPIERTemplate.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../10-full-guide/">Full Guide</a></li><li class="is-active"><a class="tocitem" href>Explanation</a><ul class="internal"><li><a class="tocitem" href="#The-engine,-the-project-generator,-and-the-template"><span>The engine, the project generator, and the template</span></a></li><li><a class="tocitem" href="#Comparison-with-existing-solutions"><span>Comparison with existing solutions</span></a></li><li><a class="tocitem" href="#Template-details"><span>Template details</span></a></li></ul></li><li><a class="tocitem" href="../90-contributing/">Contributing</a></li><li><a class="tocitem" href="../90-developer/">Developer docs</a></li><li><a class="tocitem" href="../90-reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Explanation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Explanation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/abelsiqueira/COPIERTemplate.jl/blob/main/docs/src/20-explanation.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="explanation"><a class="docs-heading-anchor" href="#explanation">Explanation</a><a id="explanation-1"></a><a class="docs-heading-anchor-permalink" href="#explanation" title="Permalink"></a></h1><p>In this section, we hope to explain the motivation for the package, and what is inside the template. Some things might have been obvious when creating the package and not at the moment, so feel free to create issues to ask, or suggest, clarifications.</p><h2 id="The-engine,-the-project-generator,-and-the-template"><a class="docs-heading-anchor" href="#The-engine,-the-project-generator,-and-the-template">The engine, the project generator, and the template</a><a id="The-engine,-the-project-generator,-and-the-template-1"></a><a class="docs-heading-anchor-permalink" href="#The-engine,-the-project-generator,-and-the-template" title="Permalink"></a></h2><p>Let me start by marking some names clearer.</p><ul><li>The <strong>template</strong> is the collection of files and folders written with some placeholders. For instance, the link to a GitHub project will be something like <code>https://github.com/{{ PackageOwner }}/{{ PackageName }}.jl</code>.</li><li>The <strong>engine</strong> is the tool that converts the template into the end result, by changing the placeholders into the actual values that we want.</li><li>The <strong>project generator</strong> is the tool that interacts with the user to get the placeholder values and give to the engine.</li></ul><h2 id="Comparison-with-existing-solutions"><a class="docs-heading-anchor" href="#Comparison-with-existing-solutions">Comparison with existing solutions</a><a id="Comparison-with-existing-solutions-1"></a><a class="docs-heading-anchor-permalink" href="#Comparison-with-existing-solutions" title="Permalink"></a></h2><p>Julia has a very good package generator called <a href="https://github.com/JuliaCI/PkgTemplates.jl">PkgTemplates.jl</a>, so why did we create another one?</p><p>The short answer is that we want a more streamlined development experience, a template more focused on <em>best practices</em>, and the ability to keep reusing the template whenever new tools and ideas are implemented.</p><p>In more details, first, see the differences in the parts of the project in the table below:</p><table><tr><th style="text-align: right"></th><th style="text-align: right">COPIERTemplate.jl</th><th style="text-align: right">PkgTemplates.jl</th></tr><tr><td style="text-align: right">Template</td><td style="text-align: right">Part of the package</td><td style="text-align: right">Part of the package</td></tr><tr><td style="text-align: right">Engine</td><td style="text-align: right"><a href="https://palletsprojects.com/p/jinja">Jinja</a></td><td style="text-align: right"><a href="https://mustache.github.io/">Mustache</a></td></tr><tr><td style="text-align: right">Project generator</td><td style="text-align: right"><a href="https://copier.readthedocs.io">copier</a>, with some wrappers in the package</td><td style="text-align: right">Part of the package</td></tr></table><p>Now, we can split this into three comparisons.</p><h3 id="Template-differences"><a class="docs-heading-anchor" href="#Template-differences">Template differences</a><a id="Template-differences-1"></a><a class="docs-heading-anchor-permalink" href="#Template-differences" title="Permalink"></a></h3><p>The template differences are mostly due to opinion and contributions and it should be easy to translate files from one template to the other. We are heavily inspired by PkgTemplates.jl, as we used it for many years, but we made some changes in the hopes of improving <em>software sustainability</em>, <em>package maintainability</em> and <em>code quality</em> (which we just overtly simplify as best practices). As such, our current differences (as of the time of writing) are:</p><ul><li>We have more <em>best practices</em> tools, such as pre-commit, configuration for linters and formatters for Julia, Markdown, TOML, YAML and JSON, CITATION.cff, Lint GitHub workflow, <code>.editorconfig</code> file, issues and pull requests templates, etc.</li><li>We focus on the main use cases (GitHub and GitHub actions), so we have much less options.</li></ul><h3 id="Engine-differences"><a class="docs-heading-anchor" href="#Engine-differences">Engine differences</a><a id="Engine-differences-1"></a><a class="docs-heading-anchor-permalink" href="#Engine-differences" title="Permalink"></a></h3><p>We can&#39;t say much about these, since we don&#39;t know or care in details.</p><h3 id="Project-generator-differences"><a class="docs-heading-anchor" href="#Project-generator-differences">Project generator differences</a><a id="Project-generator-differences-1"></a><a class="docs-heading-anchor-permalink" href="#Project-generator-differences" title="Permalink"></a></h3><p>PkgTemplates.jl is a project generator. This means that if you want to programmatically create templates inside Julia, this is the best solution. The questions (user interface) are implemented by the package, which then translates that into the answers for the engine. Disclaimer: We haven&#39;t worked on the package, this information is based on the docs.</p><p>We use <a href="https://copier.readthedocs.io">copier</a> as project generator. It is an external Python tool, so we also include some wrappers in the package to use it from Julia without the need to explicitly install it. Copier has many features, so we recommend that you check <a href="https://copier.readthedocs.io/en/stable/comparisons/">their comparisons pages</a> for more information.</p><p>Most notably, the feature that made us choose copier in the first place has the ability to <strong>applied and reapplied to existing projects</strong>. This means that existing packages can benefit from all best practices that we provide. Furthermore, they can keep reaping benefits when we create new versions of the template.</p><h2 id="Template-details"><a class="docs-heading-anchor" href="#Template-details">Template details</a><a id="Template-details-1"></a><a class="docs-heading-anchor-permalink" href="#Template-details" title="Permalink"></a></h2><p>Let&#39;s dive into the details of the template now.</p><h3 id="Basic-package-structure"><a class="docs-heading-anchor" href="#Basic-package-structure">Basic package structure</a><a id="Basic-package-structure-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-package-structure" title="Permalink"></a></h3><p>This is the basic structure of a package:</p><ul><li>PackageName.jl/<ul><li>src/<ul><li>PackageName.jl</li></ul></li><li>test/<ul><li>Project.toml</li><li>runtests.jl</li></ul></li><li>LICENSE.md</li><li>Project.toml</li><li>README.md</li></ul></li></ul><p>With the exception of <code>test/Project.toml</code>, all other files are requirements to register a package.</p><h3 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h3><p>On top of the basic structure, we add some Documenter.jl structure.</p><ul><li>docs/<ul><li>src/<ul><li>90-contributing.md</li><li>90-developer.md</li><li>90-reference.md</li><li>index.md</li></ul></li><li>make.jl</li><li>Project.toml</li></ul></li></ul><p>Brief explanation of the details:</p><ul><li>The <code>Project.toml</code>, <code>make.jl</code> and <code>src/index.md</code> are the basic structure.</li><li><code>docs/src/90-contributing.md</code>: Sometimes added as CONTRIBUTING.md, it explains how contributors can get involved in the project.</li><li><code>docs/src/90-developer.md</code>: Sometimes added as README.dev.md or DEVELOPER.md, it explains how to setup your local environment and other information relevant for developers only.</li><li><code>docs/src/90-reference.md</code> is the API reference page, which include an <code>@autodocs</code>.</li></ul><p>One noteworthy aspect of our <code>make.jl</code>, is that we include some code to automatically generate the list of pages. Create a file in the form <code>##-name.md</code>, where <code>##</code> is a two-digit number, and it will be automatically added to the pages list.</p><h3 id="Linting-and-Formatting"><a class="docs-heading-anchor" href="#Linting-and-Formatting">Linting and Formatting</a><a id="Linting-and-Formatting-1"></a><a class="docs-heading-anchor-permalink" href="#Linting-and-Formatting" title="Permalink"></a></h3><p>The most important file related to linting and formatting is <code>.pre-commit-config.yaml</code>, which is the configuration for <a href="https://pre-commit.com">pre-commit</a>. It defines a list of linters and formatters for Julia, Markdown, TOML, YAML, and JSON.</p><p>It requires installing <code>pre-commit</code> (I recommend installing it globally with <code>pipx</code>). Installing pre-commit (<code>pre-commit install</code>) will make sure that it runs the relevant hooks before committing. Furthermore, if you run <code>pre-commit run -a</code>, it runs all hooks.</p><p>Some hooks in the <code>.pre-commit-config.yaml</code> file have configuration files of their own: <code>.JuliaFormatter.toml</code>, <code>.markdownlint.json</code>, <code>.markdown-link-config.json</code>, and <code>.yamllint.yml</code>.</p><p>Also slightly related, is the <code>.editorconfig</code> file, which tells your editor, if you install the correct plugin, how to format some things.</p><h3 id="GitHub-Workflows"><a class="docs-heading-anchor" href="#GitHub-Workflows">GitHub Workflows</a><a id="GitHub-Workflows-1"></a><a class="docs-heading-anchor-permalink" href="#GitHub-Workflows" title="Permalink"></a></h3><p>We have a few workflows, with plans to expand in the future:</p><ul><li>CompatHelper.yml: Should be well known by now. It checks that your Project.toml compat entries are up-to-date.</li><li>Copier.yml: This will periodically check the template for updates. If there are updates, this action creates a pull request updating your repo.</li><li>Docs.yml: Build the docs. Only runs when relevant files change.</li><li>Lint.yml: Run the linter and formatter through the command <code>pre-commit run -a</code>.</li><li>TagBot.yml: Create GitHub releases automatically after your new release is merged on the Registry.</li><li>Test.yml: Run the tests.</li></ul><h3 id="Issues-and-PR-templates"><a class="docs-heading-anchor" href="#Issues-and-PR-templates">Issues and PR templates</a><a id="Issues-and-PR-templates-1"></a><a class="docs-heading-anchor-permalink" href="#Issues-and-PR-templates" title="Permalink"></a></h3><p>We include issues and PR templates for GitHub (see <code>.github/</code>). These provide a starting point to your project management.</p><h3 id="Other-files"><a class="docs-heading-anchor" href="#Other-files">Other files</a><a id="Other-files-1"></a><a class="docs-heading-anchor-permalink" href="#Other-files" title="Permalink"></a></h3><ul><li>.cirrus.yml: For <a href="https://cirrus-ci.org">Cirrus CI</a>, which we use solely for FreeBSD testing.</li><li>CITATION.cff: Instead of the more classic <code>.bib</code>, we use <code>.cff</code>, which serves a better purpose of providing the metadata of the package. CFF files have been adopted by GitHub, so you can generate a BibTeX entry by clicking on &quot;Cite this repository&quot; on the repository&#39;s main page. CFF files have also been adopted by <a href="https://zenodo.org">Zenodo</a> to provide the metadata of your deposition.</li><li>CODE_OF_CONDUCT.md: A code of conduct file from <a href="https://www.contributor-covenant.org">Contributor Covenant</a>.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../10-full-guide/">« Full Guide</a><a class="docs-footer-nextpage" href="../90-contributing/">Contributing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Friday 24 May 2024 09:33">Friday 24 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
